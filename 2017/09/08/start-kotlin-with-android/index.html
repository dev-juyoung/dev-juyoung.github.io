<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Android With Kotlin · Cro, Developer</title><meta name="description" content="Android With Kotlin - Juyoung, Lee"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://dev-juyoung.github.io/atom.xml" title="Cro, Developer"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/dev-juyoung" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><nav><span>CATEGORIES.</span><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Story/">Story</a></li></ul></nav><main class="container"><div class="post"><article class="post-block"><h1 class="post-title"><!--!= formattedTitle-->Android With Kotlin</h1><div class="post-info">Sep 8, 2017</div><div class="post-content"><p>Google I/O 2017에서 <code>Kotlin</code>을 안드로이드 개발언어로 지원한다는 발표 이후, 날이 갈수록 Kotlin의 인기가 높아지는 것 같습니다.<br>실제로 현업에서도 Kotlin을 도입하기 시작하는 사례도 많이 볼 수 있고, 개발자 커뮤니티에서 Kotlin으로 개발하던 중 생기는 이슈에 대한 질문과 답이 날이 갈수록 늘어가고 있습니다.<br>또한, 안드로이드와 관련된 컨퍼런스등에서 발표 후 공유되는 자료들만 보아도, Kotlin을 기준으로 진행되는 사례도 많아지고 있고,<br>여러 스타트업에서 채용공고의 우대사항으로 <code>Kotlin 사용 경험 우대</code>라는 문장이 많아지고 있습니다.</p>
<p>당장 현업에서 모든 회사가 Java로 되어 있던 부분을 Kotlin으로 대체하지는 못하겠지만,<br>기존에 Objective-C로만 개발을 할 수 있었던 IOS의 어플리케이션도 지금은 Swift라는 언어를 이용하여 개발하는 사례가 많이 늘고 있듯이,<br>머지않아 안드로이드도 Java의 대안언어이자 또 다른 공식언어인 Kotlin을 이용한 개발이 활발해지지 않을까 하는 생각도 듭니다.</p>
<p>실직적으로 아직까지 저희 개발팀에서는 기존의 Java언어를 이용하여 개발 및 유지보수를 진행하고 있지만,<br>필요에 따라 컨버팅하는 일이 발생하게 되거나, 혹은 제 개인적인 커리어 관리를 위해 요즘들어 저도 Kotlin 언어를 짬짬히 공부하고 있습니다.</p>
<p>이번 포스팅에서는 간단하게 새로운 Android Project를 생성하고, Kotlin으로 코드를 변환한 후,<br>기존의 Java와 Kotlin 코드를 조금 비교해보는 글을 작성해볼까 합니다.<br><a id="more"></a></p>
<p>이미 많은 블로그들에서 Kotlin 언어에 대한 기본적인 소개와 장단점들이 소개되고 있기에,<br>또 다시, 설명하지 않고 바로 Android Studio에서 Kotlin을 시작하는 방법에 대해 작성해보려고 합니다.</p>
<h2 id="Kotlin-Plugin-설치"><a href="#Kotlin-Plugin-설치" class="headerlink" title="Kotlin Plugin 설치"></a>Kotlin Plugin 설치</h2><p>Android Studio 3.0부터는 IDE수준에서 Kotlin을 공식으로 지원하기로 발표되었기 떄문에,<br>해당부분은 Android Studio 2.x 버전을 사용중이신 분들을 위해 작성하였습니다.</p>
<p>Kotlin을 시작하기 위해선 우선 Kotlin Plugin 설치가 필요하지만, 굉장히 간단합니다.<br>메뉴의 <code>Preferences &gt; Plugins</code>으로 이동 한 후, <code>kotlin</code>을 검색하여 설치하기만 하면 끝입니다!<br>저는 이미 설치가 되어 있기에 <code>Uninstall</code>으로 표시되어 있으나, 설치가 필요하신 부분은 녹색버튼의 <code>Install</code>이 표출됩니다.<br><img src="/images/start-kotlin-with-android/install-plugin.png" alt="Plugin Install"></p>
<h2 id="프로젝트에-Kotlin-설정"><a href="#프로젝트에-Kotlin-설정" class="headerlink" title="프로젝트에 Kotlin 설정"></a>프로젝트에 Kotlin 설정</h2><p>Plugin을 정상적으로 설치 한 후에는 메뉴의 <code>Tools &gt; Kotlin</code> 메뉴가 생성됩니다.<br>해당 메뉴로 접근해보시면, <code>Configure Kotlin in Project</code>가 있습니다.<br>해당 메뉴를 선택하면 현재의 프로젝트에 Kotlin을 설정할 수 있습니다.<br><img src="/images/start-kotlin-with-android/configure-kotlin.png" alt="Configure Kotlin"></p>
<p>해당메뉴를 누르면 다음과 같은 팝업창이 생성됩니다.<br><img src="/images/start-kotlin-with-android/selection-version.png" alt="Selection Kotlin Version"><br>현재 프로젝트에 설정하고 싶은 Kotlin 버전을 선택 한 후, <code>Ok</code>버튼을 눌러주면 Gradle에 몇줄의 코드가 추가됩니다.</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Project Level Gradle</span></div><div class="line"><span class="keyword">buildscript</span> &#123;</div><div class="line">    ext.kotlin_version = <span class="string">'1.1.4-3'</span></div><div class="line">    </div><div class="line">    <span class="comment">// code...</span></div><div class="line"></div><div class="line">    <span class="keyword">dependencies</span> &#123;</div><div class="line">        <span class="comment">// code...</span></div><div class="line">        <span class="keyword">classpath</span> <span class="string">"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// App Level Gradle</span></div><div class="line">apply plugin: <span class="string">'com.android.application'</span></div><div class="line">apply plugin: <span class="string">'kotlin-android'</span></div><div class="line"></div><div class="line">android &#123;</div><div class="line">    <span class="comment">// code...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">dependencies</span> &#123;</div><div class="line">    <span class="comment">// code...</span></div><div class="line">    <span class="keyword">compile</span> <span class="string">"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>변경된 사항은 Project Level에 kotlin 버전을 설정해주는 코드와, App Level에 kotlin과 관련된 plugin과 dependencies를 추가해주는 코드입니다.</p>
<h2 id="MainActivity-Kotlin으로-Convert"><a href="#MainActivity-Kotlin으로-Convert" class="headerlink" title="MainActivity Kotlin으로 Convert"></a>MainActivity Kotlin으로 Convert</h2><p>새롭게 코드를 작성할 수 있지만, 빠르게 훑어보다 위해서 최초에 생성되는 MainActivity 클래스를 Kotlin으로 컨버팅해보았습니다.<br>우선 컨버팅을 하기 위해서는 메뉴의 <code>Code &gt; Convert Java file to Kotlin file</code> 메뉴를 사용하면 됩니다.<br><img src="/images/start-kotlin-with-android/convert-code.png" alt="Convert Code"></p>
<h2 id="코드-훑어보기"><a href="#코드-훑어보기" class="headerlink" title="코드 훑어보기"></a>코드 훑어보기</h2><p>이렇게 변경을 하였으니, 기존의 java코드와 kotlin 코드는 어떻게 다른지 한번쯤은 비교를 해보면 좋겠죠?<br>우선 클래스 선언부부터 한번 살펴봅시다.<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// Java Code</div><div class="line">public class MainActivity extends AppCompatActivity</div><div class="line"></div><div class="line">// Kotlin Code</div><div class="line">class MainActivity : AppCompatActivity()</div></pre></td></tr></table></figure></p>
<p>기존 Java에서는 Class 상속을 위해 <code>extends</code> 키워드를 사용하는 반면에 Kotlin은 <code>:</code> 을 이용하여 상속을 받는 것을 볼 수 있습니다.<br>다음으로 <code>onCreate()</code>메서드를 한번 살펴보죠.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Java Code</span></div><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</div><div class="line">    setContentView(R.layout.activity_main);</div><div class="line">    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);</div><div class="line">    setSupportActionBar(toolbar);</div><div class="line"></div><div class="line">    FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);</div><div class="line">    fab.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</div><div class="line">            Snackbar.make(view, <span class="string">"Replace with your own action"</span>, Snackbar.LENGTH_LONG)</div><div class="line">                    .setAction(<span class="string">"Action"</span>, <span class="keyword">null</span>).show();</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Kotlin Code</span></div><div class="line"><span class="function">override fun <span class="title">onCreate</span><span class="params">(savedInstanceState: Bundle?)</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState)</div><div class="line">    setContentView(R.layout.activity_main)</div><div class="line">    val toolbar = findViewById(R.id.toolbar) <span class="function">as Toolbar</span></div><div class="line">    <span class="title">setSupportActionBar</span><span class="params">(toolbar)</span></div><div class="line"></div><div class="line">    val fab = findViewById(R.id.fab) as FloatingActionButton</div><div class="line">    fab.setOnClickListener &#123; view -&gt;</div><div class="line">        Snackbar.make(view, <span class="string">"Replace with your own action"</span>, Snackbar.LENGTH_LONG)</div><div class="line">                .setAction(<span class="string">"Action"</span>, <span class="keyword">null</span>).show()</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>첫번째 차이점은 <code>method의 선언</code>부분으로 보입니다.<br>우선 Java에서는 <code>@Override</code> 어너테이션을 이용하여 오버라이드 되었음을 명시하고 있으나,<br>Kotlin에서는 method의 선언부 앞에 <code>override</code> 키워드를 붙여서 오버라이드 된 메서드라는 것을 알 수 있습니다.</p>
<p>두번째 차이점은 <code>onCreate()</code> 메서드의 매개변수입니다.<br>Java에서는 <code>Type name</code>의 형태로 인자를 선언하였다면,<br>Kotlin에서는 Java와 반대로 <code>name: Type</code>의 형태로 변수명이 먼저 나오고 데이터 타입이 뒤에나오는 것을 볼 수 있습니다.</p>
<p>그리고 조금 더, 자세히 들여다보면 <code>Bundle?</code>과 같이 데이터타입 뒤에 <code>?</code>라는 키워드가 하나 더 붙었는데요,<br>기본적으로 Kotlin은 <strong>Null을 허용하지 않도록 개발되었고,</strong> Null을 쓸일이 생기더라도 안전하게 사용 될 수 있도록 구성되어 있습니다.<br>때문에, Kotlin에서 Null이 될 수 있는 부분에 대해서는 개발자가 이를 미리 인지하고 <code>?</code> 키워드를 함께 선언하여 Null이 될 수 있음을 미리 선언해두어야 합니다.</p>
<p>안드로이드 개발자라면 기본적으로 알고 있듯, <code>onCreate()</code>메서드로 들어오는 Bundle객체인 <code>savedInstanceState</code>는 Null이 될 수 있기 때문에,<br>Null을 허용하기 위해 <code>Bundle?</code>과 같은 형식으로 선언되었다는 것을 알 수 있습니다.</p>
<p>세번째 차이점은 View를 찾아오는 부분에서 볼 수 있습니다.<br>Java에서는 볼 수 없었던 <code>val</code>이라는 키워드가 나왔네요. Kotlin에서는 변수를 선언할 때,<br>해당 변수의 변동유무에 따라, <code>val</code> 또는 <code>var</code>과 같은 키워드로 변수를 선언 할 수 있습니다.<br>조금 언급을 더 하자면, <code>val</code>은 <strong>value</strong>의 약자로 <code>immutable(불변의)</code> 데이터를 저장하기 위한 변수를 선언할 때 사용되며,  <code>var</code>은 <strong>variable</strong>의 약자로 <code>mutable(변하기 쉬운)</code> 데이터를 저장하기 위한 변수를 선언할 때 사용됩니다.</p>
<p>그리고, 조금 더 들여다보면 타입캐스팅을 위한 코드의 부분이 조금 다른 것 같네요.<br>Java에서는 타입캐스팅을 위해 <code>Type name = (Type) findViewById(xxx)</code>의 형태로 사용되지만,<br>Kotlin에서는 <code>as Type</code>의 형태로 타입캐스팅을 할 수 있다는 것을 볼 수 있습니다.</p>
<p>드디어 <code>onCreate()</code>메서드에서 마지막 차이점입니다. <code>setOnClickListener</code> 보이시나요?<br>기존에 Java에서도 라이브러리등을 이용하여 Lambda를 사용할 수 있었지만, Kotlin은 기본적으로 Lambda를 지원합니다!</p>
<p>제가 안드로이드 개발자가 된지 몇년되지 않아 기존에 Java를 이용해 Web을 개발할 때는 Java8이 없었던 시절이라 Lambda나 Stream API를 많이 사용해보지 않았는데요,<br>안드로이드에서 강제(?)하는 보일러플레이트로 인해 가끔은 <code>Lambda가 지원되면 불필요한 코드를 많이 줄일 수 있을텐데...</code> 라는 아쉬움이 많았는데 하면서도, <code>RetroLambda</code>와 같은 라이브러리는 또 추가하기 꺼려했습니다.</p>
<p>하지만 Kotlin에서는 기본적으로 지원하고 있으니, 실질적으로 Kotlin 도입할 날이 오면 가독성의 향상과 여러가지 편리한 이점들을 경험할 수 있을 것 같습니다.</p>
<p>그 외의 <code>onCreateOptionMenu</code>나 <code>onOptionsItemSelected</code>메서드도 존재하지만,<br>이미 <code>onCreate()</code>메서드에서 나온 코드의 차이점을 이해하셨다면, 나머지 코드는 몇줄 안되는 코드이므로 이미 스스로 분석이 가능할 것이라고 믿어 의심치 않고 스스로의 숙제로 남겨두겠습니다.</p>
<h2 id="마무리"><a href="#마무리" class="headerlink" title="마무리"></a>마무리</h2><p>정말 간단하게 마무리하고 싶었던 글인데, 쓰다보니 생각보다 긴 글이 되었네요…<br>아직 본격적으로 Kotlin을 실무에 쓸 정도의 실력은 되지 않지만,<br>틈틈히 Android 프로젝트에 Kotlin을 적용해보면서 Java와 Kotlin을 비교해보고자 합니다.<br>그리고 Kotlin을 적용해 나가는 부분에 대해서 조금씩 포스팅으로 남겨볼까 생각중입니다.</p>
<p>Kotlin을 이용한 본격적인 코딩은 시작도 하지 않았지만,<br>단순히 플러그인을 설치하고 프로젝트에 Kotlin을 설정한 후, IDE의 도움을 받아 코드를 컨버팅 해보는 것만으로도 Kotlin의 몇가지 장점이 보이는 것 같습니다.<br>이제 시작하는 단계지만 앞으로 더 알게 될 장점들을 기대해보면서 포스팅을 마무리하겠습니다.<br><strong>Kotlin Beginner 파이팅!</strong></p>
</div></article></div></main><footer><!--include mixins/paginator--><!--+post()--><div id="disqus_thread"></div><script>var disqus_shortname = 'dev-juyoung';
var disqus_identifier = '2017/09/08/start-kotlin-with-android/';
var disqus_title = 'Android With Kotlin';
var disqus_url = 'https://dev-juyoung.github.io/2017/09/08/start-kotlin-with-android/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//dev-juyoung.disqus.com/count.js" async></script><div class="copyright"><p>© 2016 - 2017 <a href="https://dev-juyoung.github.io">Juyoung, Lee</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-81931719-1",'auto');ga('send','pageview');</script></body></html>