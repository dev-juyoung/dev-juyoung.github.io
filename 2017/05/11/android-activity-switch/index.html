<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Activity 전환하기 · Cro, Developer</title><meta name="description" content="Activity 전환하기 - Juyoung, Lee"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://dev-juyoung.github.io/atom.xml" title="Cro, Developer"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/dev-juyoung" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><nav><span>CATEGORIES.</span><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Logs/">Logs</a></li></ul></nav><main class="container"><div class="post"><article class="post-block"><h1 class="post-title"><!--!= formattedTitle-->Activity 전환하기</h1><div class="post-info">May 11, 2017</div><div class="post-content"><p>저번 포스팅에서 <code>Intent 객체</code>에 대해서 알아보았습니다.<br><code>Intent 객체</code>에 대하여 기억이 나지 않는다면, <a href="https://dev-juyoung.github.io/2017/05/01/android-intent">해당 포스팅</a>을 확인해보세요.</p>
<h2 id="Activity"><a href="#Activity" class="headerlink" title="Activity??"></a>Activity??</h2><p>Activity전환에 대한 이야기를 시작하기에 앞서,<br>안드로이드를 처음 접하시는 분이라면 <code>Activity</code>가 무엇인지 잘 모를 수도 있습니다. 당연하거지요.<br>그렇다면 <code>Activity</code>란 무엇일까요??<br>간단히 말해서, <code>Activity</code>란 하나의 화면을 구성하고 있는 안드로이드 시스템에서의 <code>화면의 단위</code>정도로 생각하시면 됩니다.<br>웹에 대해 지식이 있는 분이라면 여러개의 <code>html</code>파일이 모여 하나의 웹사이트를 이루듯,<br>안드로이드는 여러개의 <code>Activity</code>가 모여 하나의 어플리케이션을 이루는 것이죠.</p>
<p>물론, 실질적으로 안드로이드 어플리케이션을 개발하다보면, <code>Activity</code>뿐만 아니라,<br><code>Fragment</code>라는 녀석도 필요한 경우가 존재하는데, 이 녀석은 오늘의 주제가 아니니 건너가죠!<br><a id="more"></a></p>
<h2 id="단순하게-화면만-전환하기"><a href="#단순하게-화면만-전환하기" class="headerlink" title="단순하게 화면만 전환하기"></a>단순하게 화면만 전환하기</h2><p><code>Intent 객체</code>에 대한 포스팅을 읽어보신 분이라면, 이미 화면을 전환할 수 있습니다! <del>(어떻게…?)</del><br><a href="https://dev-juyoung.github.io/2017/05/01/android-intent">Intent 객체</a> 포스팅에서 잠깐 언급했던 말이지만,<br>안드로이드 시스템에게 <strong>나 지금 어디로 이동할꺼야!</strong>라고 전달하기 위해서는 안드로이드 시스템이 알아 들을 수 있는 언어(?)인 <code>Intent 객체</code>를 이용하여야 된다고 말씀드렸는데요.<br>그럼 실질적인 예제코드부터 확인해보시죠.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// MainActivity.java</span></div><div class="line">Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, SecondActivity.class);</div><div class="line">startActivity(intent);</div></pre></td></tr></table></figure></p>
<p>어디서 많이 본 코드 같지 않나요??<br>눈썰미가 좋으신 분은 눈치 채셨겟지만, 이미 <code>Intent 객체</code>에 대한 포스팅에서 나온 코드입니다.</p>
<p>이 코드는, 안드로이드 프레임워크에서 제공해주는 기본 method인 <code>startActivity()</code>를 이용하여,<br>생성된 <code>Intent 객체</code>를 기반으로 화면을 이동시키는 코드입니다.</p>
<p>화면을 이동하기 위해서는 <code>Intent 객체</code>에 2개의 Parameter가 필요합니다.<br>간단하게 이해를 돕자면, <strong>현재 어디의 화면에 머물러 있는데 어떤 화면으로 이동을 할것이다!</strong>라는 정보이죠.</p>
<p>즉, 한번 더 풀어쓰면, 현재 <code>MainActivity</code>에 머물러 있는데, <code>SecondActivity</code>라는 화면으로 이동을 할 것이다! 라고 알려주는 것입니다. 우리는 이러한 <code>Intent</code>객체를 <code>명시적 Intent</code>라고 알고있죠. 이것이 끝입니다. 쉽죠?</p>
<h2 id="전환되는-화면으로-데이터-전달하기"><a href="#전환되는-화면으로-데이터-전달하기" class="headerlink" title="전환되는 화면으로 데이터 전달하기"></a>전환되는 화면으로 데이터 전달하기</h2><p>화면만 간단히 전달할 줄 알면 참 좋겠습니다만…프로그램의 생태계란 것이 그렇지 않은 경우가 태반이더라구요…<br>실제 어플리케이션을 개발하다보면 특정한 데이터를 받아서 처리를 해야되는 <code>Activity</code>가 존재하기 마련입니다.<br>하지만 그렇게 걱정하지 않으셔도 되요. 이미 <code>Intent 객체</code>는 그것을 알기라도 했다는 듯이 <strong>필요하면 써!</strong>라고 말하듯이 method를 제공하고 있기 때문이죠.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// MainActivity.java</span></div><div class="line">Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, SecondActivity.class);</div><div class="line">intent.putExtra(<span class="string">"user_name"</span>, <span class="string">"cro, developer"</span>);</div><div class="line">intent.putExtra(<span class="string">"user_age"</span>, <span class="number">28</span>);</div><div class="line">startActivity(intent);</div></pre></td></tr></table></figure></p>
<p>위의 코드를 이용하여 사용자의 이름과 나이를 함께 전달해주는 코드를 보강해보았습니다.<br>다음화면으로 데이터를 전달해주기 위해서는 <code>putExtra(key, value)</code> 메서드를 사용하시면 됩니다. 이것 또한 간단하죠?<br><code>putExtra()</code>메서드의 두번째 Parameter에는 여러가지의 데이터타입을 전달할 수 있도록 제공하고 있으니, 우리의 똑똑한 IDE인 <code>Android Studio</code>의 어시스트 기능을 이용하여 어떠한 데이터타입을 전달 할 수 있는지 한번 확인해보세요!</p>
<h2 id="전달받은-데이터-획득하기"><a href="#전달받은-데이터-획득하기" class="headerlink" title="전달받은 데이터 획득하기"></a>전달받은 데이터 획득하기</h2><p>위에서 전환되는 화면으로 데이터를 전달해주는 방법은 알아보았는데, 단순히 전달만 한다고 사용할 수 있지는 않습니다.<br>전달은 받았지만 전달받은 데이터를 획득하지 않으면 단순히 쓸모없는 데이터일 뿐입니다.<br>그렇다면 힘들게 넘겨준 데이터를 <strong>쓸모있는</strong>데이터로 만들기 위해, 데이터를 획득하는 방법을 한번 알아볼까요??<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// SecondActivity.java</span></div><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">    <span class="comment">// ... 생략</span></div><div class="line">    Intent intent = getIntent();</div><div class="line">    <span class="keyword">if</span> (intent != <span class="keyword">null</span>) &#123;</div><div class="line">        String userName = intent.getStringExtra(<span class="string">"user_name"</span>);</div><div class="line">        <span class="keyword">int</span> userAge = intent.getIntExtra(<span class="string">"user_age"</span>, <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>특별한 경우가 아니라면 보통은 안드로이드의 생명주기 중, <code>onCreate()</code> 메서드 안에서 데이터를 획득해오는 방식을 많이 사용하는 것 같습니다.<br>데이터를 획득하는 방법 역시 간단합니다. <code>getIntent()</code>메서드를 통해 전달받은 <code>Intent 객체</code>를 획득합니다.<br>그런 다음, 획은한 <code>Intent 객체</code>에서 각각의 데이터 타입에 받는 <code>getXxxExtra()</code>메서드에 전달할 때 사용되었던 <code>KEY</code>값을 이용하여 뽑아오면 그만이죠!<br>하지만 두번째 경우인 사용자의 나이에 대한 데이터를 획득하는 메서드에는 뭔가 하나의 Parameter가 더 있는 것을 볼 수 있는데요.<br>두번째에 넘어가는 데이터는 <code>Default</code>값입니다. 즉, <code>KEY</code>에 해당하는 데이터를 획득하지 못하였을 때, 기본값으로 무엇을 사용할 것이냐는 것이죠.<br><code>Default</code>값을 정할 수 있는 데이터타입은 몇가지가 있는데, 어떻게 구별할 지 궁금 할 수도 있겟네요.<br>Java의 데이터타입에 대해서 생각해보면 편하실 듯 합니다. <code>null</code>로 초기화를 할 수 없는 데이터타입은 모두 <code>Default</code>값을 지정하여 데이터를 전달받지 못한 경우, <code>Default</code>값으로 초기화(?)할 수 있도록 지정해주어야 합니다.</p>
<h2 id="데이터를-이전화면으로-전달하기"><a href="#데이터를-이전화면으로-전달하기" class="headerlink" title="데이터를 이전화면으로 전달하기"></a>데이터를 이전화면으로 전달하기</h2><p>위에서 우리는 화면도 전환하고, 데이터도 넘겨주고, 심지어 데이터를 획득하는 방법에 대해 알아보았습니다.<br>이정도만 있어도 기본적인 어플리케이션을 개발하기에는 충분합니다. 하지만 조금 특별한 경우가 있을 수 있어요..<br>화면을 이동한 후, 이동된 화면에서 어떠한 처리를 하고, 처리된 결과값을 다시 이전화면으로 돌려줘야되는 경우가 있을 수 있죠.<br>조금은 실용적이지 못한 어플리케이션이겠지만, 숫자 2개를 넘겨받아 합산을 한 후, 이전화면으로 다시 돌려주는 어플리케이션이 있다고 가정해봅시다.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// MainActivity.java</span></div><div class="line">Intent intent = <span class="keyword">new</span> Intent(<span class="keyword">this</span>, CalculatorActivity.class);</div><div class="line">intent.putIntent(<span class="string">"first"</span>, <span class="number">100</span>);</div><div class="line">intent.putIntent(<span class="string">"second"</span>, <span class="number">200</span>);</div><div class="line">startActivityForResult(intent, <span class="number">3641</span>);</div></pre></td></tr></table></figure></p>
<p>위에서 화면을 전환할 때와는 조금은 다른 코드가 나왔습니다. <code>startActivityForResult()</code>인데요.<br>대충 느낌적으로 봤을때 메서드명에서부터 알 수 있듯, Activity를 시작하긴 할껀데 결과값을 뭔가 어떻게 하겠다는 그런 메서드같네요?<br>그리고, 단순히 <code>startActivity()</code>를 할 때와는 다르게, <code>Intent 객체</code> 이외에도 뭐가 숫자코드가 같이 주어지고 있습니다.<br>이 숫자코드는 <code>REQUEST_CODE</code>라는 것인데, 임의로 아무숫자나 정해주셔도 됩니다.<br>하지만 나중에 결과값을 받을 때 중요한 역할을 하므로 기억하고 있어야 합니다.<br>그럼 다시 코드로 돌아가서 <code>CalculatorActivity</code>의 코드를 확인해보죠.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// CalculatorActivity.java</span></div><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</div><div class="line">    <span class="comment">// ... 생략</span></div><div class="line">    Intent intent = getIntent();</div><div class="line">    <span class="keyword">if</span> (intent != <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">int</span> first = intent.getIntExtra(<span class="string">"first"</span>, <span class="number">0</span>);</div><div class="line">        <span class="keyword">int</span> second = intent.getIntExtra(<span class="string">"second"</span>, <span class="number">0</span>);</div><div class="line">        <span class="keyword">int</span> sum = first + second;</div><div class="line"></div><div class="line">        Intent resultIntent = <span class="keyword">new</span> Intent();</div><div class="line">        resultIntent.putExtra(<span class="string">"sum"</span>, sum);</div><div class="line">        setResult(RESULT_OK, resultIntent);</div><div class="line">        finish();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><del>참, 쓸모없는 어플리케이션 인 듯 합니다…</del><br>우리는 전달받은 데이터를 획득하는 방법은 이미 알기에 위의 코드를 대충은 이해할 수 있습니다.<br>우선은 <code>first</code>와 <code>second</code>라는 <code>KEY</code>값을 이용하여 전달받은 <code>Integer</code>데이터를 획득하고,<br>새로운 <code>sum</code>이라는 변수를 선언하여 두 값의 합을 구해주고 있지요. 그 뒤에 나오는 코드가 핵심코드가 되겠습니다.</p>
<p>안드로이드에서 <code>Activity</code>를 종료하기 위해서는 <code>finish()</code>메서드를 이용합니다.<br>하지만 화면을 종료하기 전에, 우리는 이전화면으로 결과를 전달해주기 위해 다시 <code>Intent 객체</code>를 생성하였고,<br>해당객체에 두 수의 합이 담겨있는 sum을 데이터로 담아주었습니다.<br>그리고 제일 중요한 <code>setResult()</code>메서드를 이용하여 <code>RESPONSE_CODE</code>와 <code>Intent 객체</code>를 지정해주었습니다.</p>
<p>이름에서부터 알 수 있듯 <code>setResult()</code>메서드는 결과를 전달해주는 메서드 입니다.<br>해당 메서드에는 2개의 Parameter를 전달 할 수 있는데,<br>첫번째가 <code>RESPONSE_CODE</code> 즉, 처리된 결과가 성공이냐, 또는 실패냐, 아니면 어떠한 다른 상태이냐를 나타내는 상태코드입니다. 이것을 잘 사용하면, 성공 / 실패 / 취소 등등 여러가지의 원하는 결과코드를 보낼 수 있죠.<br>두번째는 우리가 계속 사용해오던 일반적인 <code>Intent 객체</code>입니다. 단순히 결과코드에 대해서만 알려줄 필요가 있다면 <code>Intent 객체</code>는 생략 될 수 있으며, 필요에 따라 데이터를 전달해줘야 된다면 지금까지 사용해온 방식대로 <code>Intent 객체</code>에 데이터를 실어서 전달해주시면 됩니다.</p>
<p>참, 긴 여정이였습니다. 이제 마지막 단계만 남겨두었어요! 전달받은 결과값을 처리해야겠죠?<br>그럼 다시 전달받은 값을 처리해야되니 <code>MainActivity</code>코드를 확인해봅시다.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, Intent data)</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>.onActivityResult(requestCode, resultCode, data);</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (resultCode != RESULT_OK) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (requestCode == <span class="number">3641</span>) &#123;</div><div class="line">        <span class="comment">//... 처리코드</span></div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (requestCode == <span class="number">2172</span>) &#123;</div><div class="line">        <span class="comment">//... 처리코드</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>드디어 끝이 보입니다. 이번 코드는 조금 짧게 썻는데요… <del>귀찮아서 절대아님..</del>~<br>결과를 받아올 경우에는 <code>onActivityResult()</code>라는 특별한 메서드를 이용합니다.<br>해당 메서드가 조금은 복잡해 보일지 모르겠지만, 이미 우리는 지금까지 모두 사용했던 것이므로 굉장히 간답합니다.</p>
<p>우선은 인자값들부터 하나하나 확인해보죠.</p>
<ul>
<li>int requestCode: <code>startActivityForResult()</code>메서드를 실행할 때, 두번째 인자값으로 넘겨준 <code>REQUEST_CODE</code></li>
<li>int resultCode: <code>setResult()</code>메서드를 실행할 때, 첫번째 인자값으로 넘겨준 <code>RESPONSE_CODE</code></li>
<li>Intent data: <code>setResult()</code>메서드를 실행할 때, 두번째 인자값으로 넘겨준 데이터가 담겨있는 <code>Intent 객체</code></li>
</ul>
<p>어때요? 하나하나 살펴보니 되게 쉽지요?<br>저것들만 이해하면 이제 코드를 나머지 코드는 <strong>식은 죽 먹기</strong>입니다.</p>
<p>우선은, 응답코드를 확인하여 <code>RESULT_OK</code>가 아니라면 해당 메서드를 종료해버리는 코드가 작성되어 있습니다.<br>이외의 응답코드에 대한 코드가 더 필요하다면 조건절로 작성해주시면 되겠죠?</p>
<p>그런 다음, 응답코드가 <code>RESULT_OK</code>라면 <code>REQUEST_CODE</code>에 따라서 해당하는 처리로직을 작성해주시면 됩니다.<br>굳이 양념을 첨가하여 예제코드에 있는 <code>3641</code>에 해당하는 처리코드만 작성해보자면…<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> sum = data.getIntExtra(<span class="string">"sum"</span>, <span class="number">0</span>);</div><div class="line">Log.d(<span class="string">"MainActivity"</span>, sum);</div></pre></td></tr></table></figure></p>
<p>뭐… 이정도가 되겠네요… 굳이 작성하지 않은 이유를 아시겠죠?</p>
<p>위에서 잠깐 언급했지만, <code>REQUEST_CODE</code>는 기억을 하고 있어야 된다고 이야기 했었습니다. 그 이유가 바로 결과를 받는 곳에서 나타납니다.<br>현재 예제코드에는 한 화면에서 호출하고 다시 전달받는 코드가 한번만 사용되었기에 굳이 외우고 있을 필요는 없지만, 실제 어플리케이션을 개발하다보면 한 화면에서 여러 <code>Activity</code>로부터 결과값을 전달받는 경우가 발생합니다. 하지만 <code>REQUEST_CODE</code>를 기억하고 있지 못하다면, 각각에 기능에 맞는 처리로직을 작성할 수 없을 뿐더러, 여러개로 작성하더라도 <code>REQUEST_CODE</code>가 엉뚱하다면 전혀 생각지도 못하게 어플리케이션이 기능이 꼬이게 되겠죠? 그래서 <code>REQUEST_CODE</code>를 기억하고 있으셔야 된다고 한 것 입니다.</p>
<h2 id="약간의-TIP"><a href="#약간의-TIP" class="headerlink" title="약간의 TIP?"></a>약간의 TIP?</h2><p>여기까지 보셨다면 이미 이번 포스팅에서 원하고자하는 목적은 도달하였으니 제 블로그를 끄셔도 됩니다. <del>하지만 안보면 후회할껄?</del><br>여기서부터는 실제 개발하면서 조금은 이렇게 개발하면 관리하기 편하더라(?)하는 정보를 적어볼까 합니다. 특별한건 없으니 그렇게 큰 기대는…<br>솔직히 Intent와 관련하여 특별한 TIP은 없습니다. 아마 개발자라고 하시면 모든분들이 이렇게 하고 계실수도 있어요…</p>
<ul>
<li>REQUEST_CODE는 상수를 활용하라.<blockquote>
<p>꼭, 이부분이 REQUEST_CODE에만 적용되는 내용은 아닙니다.<br>변하지 않는 값이라면 목적에 맞는 명칭으로 상수로 정의해두면 시간이 흐른 뒤, 어떤 목적으로 사용됬는지 기억하기도 관리하기도 쉽겠죠?<br>사람의 기억력은 그렇게 좋지 않으므로, 시간이 흐른 뒤 onActivityResult메서드에서 3641이라고 적혀있는 코드보다는 목적에 맞는 상수명으로 적혀 있는 코드가,<br>추후 <strong>아! 이 코드는 내가 뭘 원했기 떄문에 사용했었지?</strong>라고 이해하기가 좋습니다.<br>상수의 명칭은 되도록 직관적이고 이해하기 쉬운 명칭을 사용하시고, 사용되는 각 Activity의 최상단에 기재해두면 찾기도 관리하기도 편합니다!</p>
</blockquote>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> REQUEST_CODE_SUM = <span class="number">3641</span>;</div><div class="line">``` </div><div class="line"></div><div class="line">* putExtra / getExtra에 사용되는 KEY 역시도 상수로 활용하라.</div><div class="line">&gt; 서버개발자와 협업을 하다보면 서버와 통신에 필요한 데이터의 경우 명칭을 맞추는 것이 훨씬 의사소통에 편리합니다. ~~저희는 그렇게 하고있어요...~~</div><div class="line">&gt; 그리고 보통, Intent로 데이터를 전달할 떄 사용되는 `KEY`값은 되게 서버와의 통신시에 필요한 것들이 많더라구요.</div><div class="line">&gt; 또한, 서버통신시에 필요한 `KEY`값은 대게 여러곳에서 공통적으로 사용되는 명칭이 많습니다.</div><div class="line">&gt; 나중에 잦은 기획의 변경이나 특정목적에 따라 명칭이 변경된다면? 사용하는 모든 Activity를 찾아다니며 명칭을 변경해주는 불상사가 발생하기도 하죠...</div><div class="line">&gt; 그래서 되도록이면, 이러한 EXTRA의 `KEY`로 사용되는 리터럴 데이터는 하나의 <span class="class"><span class="keyword">class</span>로 따로 분리를 시켜 관리하는 것이 편리하단 것을 알게 되었습니다.</span></div><div class="line">&gt; 이렇게 분리를 해두고 해당 상수들을 <span class="title">Intent</span>의 <span class="title">KEY</span>로 사용하면 값이 바뀌더라도 해당 <span class="title">Class</span>에서 실제 리터럴 데이터만 변경해주면 해당 상수를 사용중인 모든 <span class="title">Activity</span>는 모두 변경되니 일일히 <span class="title">Activity</span>를 찾아다니는 불상사를 미연에 방지할 수 있겠죠??</div><div class="line"></div><div class="line">```<span class="title">java</span></div><div class="line">// <span class="title">Class</span> 선언</div><div class="line"><span class="title">class</span> <span class="title">Constants</span> &#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String EXTRA_SERVER_KEY = <span class="string">"serverKey"</span>;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String EXTRA_CLIENT_KEY = <span class="string">"clientKey"</span>;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String EXTRA_BOARD_ID = <span class="string">"boardId"</span>;</div><div class="line">    <span class="comment">//... 등등등</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Activity등에서 실 사용.</span></div><div class="line">Intent intent = <span class="keyword">new</span> Intent();</div><div class="line">intent.putExtra(Constants.EXTRA_SERVER_KEY, <span class="string">"xxxxxx"</span>);</div></pre></td></tr></table></figure>
<p>별 도움이 되지 않는 TIP일 수 있겟지만, 의외로 REQUEST_CODE나, Extra의 KEY값을 리터럴 그대로 사용하시는 분들이 많더라구요.<br>물론, 개인 프로젝트라면 문제 없겠지만, 현업에서 협업을 하는 개발자라면 저런 습관과 선임 / 후임 또는 퇴사 후 들어올 뒷사람을 위해서라면 좋은 습관이 될 것 같아요!<br>그럼 이만 길어진 오늘의 포스팅은 여기서 안녕!</p>
</div></article></div></main><footer><!--include mixins/paginator--><!--+post()--><div id="disqus_thread"></div><script>var disqus_shortname = 'dev-juyoung';
var disqus_identifier = '2017/05/11/android-activity-switch/';
var disqus_title = 'Activity 전환하기';
var disqus_url = 'https://dev-juyoung.github.io/2017/05/11/android-activity-switch/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//dev-juyoung.disqus.com/count.js" async></script><div class="copyright"><p>© 2016 - 2017 <a href="https://dev-juyoung.github.io">Juyoung, Lee</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-81931719-1",'auto');ga('send','pageview');</script></body></html>